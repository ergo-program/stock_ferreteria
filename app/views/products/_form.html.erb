<section class="content invoice">
  <div class="row">
    <div class="col-md-10">

       <%= form_for @product, validate: true do |f| %>

        <% if @product.errors.any? %>
          <div class="alert alert-danger alert-dismissable" role="alert">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">x</button>
            <ul>
            <% @product.errors.full_messages.each do |msg| %>
              <li><%= msg %></li>
            <% end %>
            </ul>
          </div>
        <% end %>

    <form class="form-horizontal">
    
    <div class="field col-md-12 form-group">
      <div class="field col-md-4 form-group">
        <%= f.label :codigo %>
        <%= f.text_field :codigo,:maxlength => 20, :class => "form-control" %>
      </div>
      <div class="field col-md-6 form-group">
        <%= f.label :nombre %>
        <%= f.text_field :nombre,:maxlength => 50, :class => "form-control" %>
        </div>
      </div>
    
    <div class="field col-md-12 form-group">
      <div class="field col-md-4 form-group">
        <%= f.label :unidad_medida, "Unidad de medida" %>
        <%= f.text_field :unidad_medida,:maxlength => 20, :class => "form-control" %>
      </div>
      <div class="field col-md-8 form-group">
        <%= f.label :descripcion %>
        <%= f.text_field :descripcion,:maxlength => 80, :class => "form-control" %>
      </div>
    </div>

    <div class="field col-md-12 form-group">
      <div class="field col-md-4 form-group">
        <%= f.label :costo %>
        <%= f.text_field :costo,:maxlength => 10, :class => "form-control" %>
      </div>
      <div class="field col-md-4 form-group">
        <%= f.label :precio_venta, "Precio de Venta"%>
        <%= f.text_field :precio_venta,:maxlength => 10, :class => "form-control" %>
      </div>
      <div class="field col-md-4 form-group">
        <%= f.label :cantidad %>
        <%= f.number_field :cantidad,:maxlength => 10, :class => "form-control" %>
      </div>
    </div>

    <div class="field col-md-12 form-group">
      <div class="field col-md-4 form-group">
        <%= f.label :canitdad_min, "Cantidad Minima"%>
        <%= f.number_field :canitdad_min, :class => "form-control" %>
      </div>
      <div class="field col-md-4 form-group">
        <%= f.label :brand, "Marca"%>
              <select id="brand_ingreso" name="brand[brand_id]" class="btn btn-default">
                 <% @brands.each do |brand| %>
                    <%= render partial: "brands/coleccion", locals: {brand: brand} %>
  
                <% end %>
              </select>
              <%= link_to "#modal-brand", "data-toggle" => "modal" , class: 'btn btn-primary' do %>
              <span class="glyphicon glyphicon-plus"></span>
              <% end %>
      </div>
      <div class="field col-md-4 form-group">
        <%= f.label :category, "Categoria"%>
        <%= f.collection_select :category_id, Category.all, :id, :nombre, {prompt: "Seleccione una categoria"} ,:class => "form-control"%>
      </div
    </div>

      <div class="form-group">
        <% if controller.action_name == 'edit'  %>
         <%= f.submit "Guardar", :class => "btn btn-primary" %>
        <% else %>
          <%= f.submit "Agregar", :class => 'btn btn-primary'%>
        <% end %>
      </div>
      </form> 
    <% end %>
    </div>
  </div>
</section> 

<%= render 'products/modals/marca' %>